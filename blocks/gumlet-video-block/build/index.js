(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,n=window.wp.components;function a(e){const{id:t,autoplay:l,loop:o}=e;let n=`https://play.gumlet.io/embed/${t}?`;return l&&(n+="autoplay=true&"),o&&(n+="loop=true&"),n.slice(0,-1)}(0,t.registerBlockType)("gumlet/gumlet-video-block",{edit:function({attributes:t,setAttributes:i}){const{id:r,width:u,height:m,ccEnabled:c,autoplay:d,loop:s}=t,g=(0,o.useBlockProps)({className:`align${t.align}`}),p=[{label:"100%",value:"100%"},{label:"75%",value:"75%"},{label:"50%",value:"50%"},{label:"25%",value:"25%"},{label:"Custom",value:"custom"}],h=(e,t,l=!1)=>{i(l?{[e]:t}:{[e]:t})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Gumlet Video Settings","gumlet-video")},(0,e.createElement)(n.TextControl,{label:(0,l.__)("Asset ID","gumlet-video"),value:r,onChange:e=>i({id:e}),help:(0,l.__)("Enter the Gumlet Asset ID.","gumlet-video")}),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Width","gumlet-video"),value:"custom"===u?"custom":u,options:p,onChange:e=>h("width",e)}),"custom"===u&&(0,e.createElement)(n.TextControl,{label:(0,l.__)("Custom Width","gumlet-video"),value:u,onChange:e=>h("width",e,!0),help:(0,l.__)("Enter width in px or %","gumlet-video")}),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Height","gumlet-video"),value:"custom"===m?"custom":m,options:p,onChange:e=>h("height",e)}),"custom"===m&&(0,e.createElement)(n.TextControl,{label:(0,l.__)("Custom Height","gumlet-video"),value:m,onChange:e=>h("height",e,!0),help:(0,l.__)("Enter height in px or %","gumlet-video")}),(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Autoplay","gumlet-video"),checked:d,onChange:e=>i({autoplay:e})}),(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Loop","gumlet-video"),checked:s,onChange:e=>i({loop:e})}))),(0,e.createElement)("div",{...g},r?(0,e.createElement)("div",{className:"gumlet-video-container",style:{position:"relative",paddingTop:"56.25%",width:u,margin:"0 auto"}},(0,e.createElement)("iframe",{src:a(t),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},title:(0,l.__)("Gumlet Video Player","gumlet-video"),allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture; fullscreen;",frameBorder:"0"})):(0,e.createElement)("div",{style:{textAlign:"center",padding:"2em",backgroundColor:"#f0f0f0",border:"1px dashed #999",marginBottom:"1em"}},(0,e.createElement)(n.TextControl,{label:(0,l.__)("Enter Gumlet Asset ID","gumlet-video"),value:r,onChange:e=>i({id:e}),placeholder:(0,l.__)("e.g., abc123xyz","gumlet-video"),help:(0,l.__)("Paste your Gumlet Asset ID here to embed the video.","gumlet-video")}))))},save:function({attributes:e}){return null}})})();